{% extends 'social/base.html' %}
{% block title %}Profile - {{ profile_user.username }}{% endblock %}
{% block content %}
<div class="text-center mb-4">
  <h3>@{{ profile_user.username }}</h3>
  <p>{{ profile_user.profile.bio }}</p>
  {% if user != profile_user %}
    <form method="POST" action="{% url 'social:toggle_follow' profile_user.username %}">
        {% csrf_token %}
        <button class="btn btn-sm {% if is_following %}btn-danger{% else %}btn-success{% endif %}">
        {% if is_following %}Unfollow{% else %}Follow{% endif %}
        </button>
    </form>
  {% else %}
    <a href="{% url 'social:edit_profile' profile_user.username %}" class="btn btn-outline-primary btn-sm">Edit Profile</a>
    {% endif %}

</div>

<h4 class="mt-4">Posts</h4>
{% for post in posts %}
  <div class="card mb-3">
    <div class="card-body">
      <p>{{ post.content }}</p>
      <a href="{% url 'social:post_detail' post.id %}">View</a>
    </div>
  </div>
{% empty %}
  <p>No posts yet.</p>
{% endfor %}
{% endblock %}
